{"inkVersion":21,"root":[["\n","\n",{"->":"day1Customer.presentProduct"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"day1Customer":[{"->":".^.random"},{"random":["#","^speaker ","ev",{"VAR?":"currentName"},"out","/ev","/#",["ev","visit",3,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^Hello, i want ",{"->":".^.^.29"},null],"s1":["pop","^Hey, i need ",{"->":".^.^.29"},null],"s2":["pop","^Hi, i would like ",{"->":".^.^.29"},null],"s3":["pop","^Hey, can i get ",{"->":".^.^.29"},null],"#f":5}],"^ ","<>","\n",{"->":".^.^.randomProducts"},{"#f":1}],"randomProducts":["ev",0,100,"rnd","/ev",{"temp=":"rand"},"\n","ev",1,"/ev",{"temp=":"count"},["ev",{"VAR?":"rand"},20,"<","/ev",{"->":".^.b","c":true},{"b":["\n","ev",3,"/ev",{"temp=":"count","re":true},{"->":".^.^.^.13"},null]}],["ev",{"VAR?":"rand"},60,"<","/ev",{"->":".^.b","c":true},{"b":["\n","ev",2,"/ev",{"temp=":"count","re":true},{"->":".^.^.^.13"},null]}],"nop","\n","ev",{"VAR?":"count"},{"x()":"GenerateProductRequest","exArgs":1},"pop","/ev","\n",["ev",{"VAR?":"count"},1,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",0,{"f()":"formatProductAt"},"out","/ev","/str","/ev",{"VAR=":"requestText","re":true},"\n",{"->":".^.^.^.24"},null]}],["ev",{"VAR?":"count"},2,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",0,{"f()":"formatProductAt"},"out","/ev","^ and ","ev",1,{"f()":"formatProductAt"},"out","/ev","/str","/ev",{"VAR=":"requestText","re":true},"\n",{"->":".^.^.^.24"},null]}],["ev",{"VAR?":"count"},3,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",0,{"f()":"formatProductAt"},"out","/ev","^, ","ev",1,{"f()":"formatProductAt"},"out","/ev","^, and ","ev",2,{"f()":"formatProductAt"},"out","/ev","/str","/ev",{"VAR=":"requestText","re":true},"\n",{"->":".^.^.^.24"},null]}],"nop","\n","<>","^ ","ev",{"VAR?":"requestText"},"out","/ev","\n",{"->":".^.^.response"},{"#f":1}],"randomRejectedResponse":["#","^speaker ","ev",{"VAR?":"currentName"},"out","/ev","/#","ev",0,100,"rnd","/ev",{"temp=":"rand"},"\n","ev",{"VAR?":"rand"},40,"<","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":".^.^.^.^.randomRenegotiate"},{"->":".^.^.^.20"},null]}],"nop","\n",["ev","visit",3,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^Oh well, to the next store...",{"->":".^.^.29"},null],"s1":["pop","^That sucks...",{"->":".^.^.29"},null],"s2":["pop",{"->":".^.^.29"},null],"s3":["pop","^Aw man...",{"->":".^.^.29"},null],"#f":5}],"\n","ev",{"x()":"RejectSale"},"pop","/ev","\n","ev",{"x()":"ResetProductRequest"},"pop","/ev","\n","end",{"#f":1}],"randomRenegotiate":["#","^speaker ","ev",{"VAR?":"currentName"},"out","/ev","/#",["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Ok, how about",{"->":".^.^.23"},null],"s1":["pop","^Alright then, but can i get",{"->":".^.^.23"},null],"s2":["pop","^Ok, but what about",{"->":".^.^.23"},null],"#f":5}],"\n","<>","^ ",{"->":".^.^.randomProducts"},"\n",{"#f":1}],"response":[["ev","str","^Sure","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Sorry, Out of Stock","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Ok give me a moment",{"->":".^.^.23"},null],"s1":["pop","^Sure Thing",{"->":".^.^.23"},null],"s2":["pop","^Alright",{"->":".^.^.23"},null],"#f":5}],"\n","ev",{"x()":"StartSale"},"pop","/ev","\n","end",{"#f":5}],"c-1":["^ Sorry, we're out of stock for that.","\n",{"->":".^.^.^.^.randomRejectedResponse"},{"#f":5}]}],{"#f":1}],"presentProduct":["^Ok, that'll be ","ev",{"x()":"GetPrice"},"out","/ev","^ Rupiah","\n","ev",0,100,"rnd","/ev",{"temp=":"rand"},"\n",["ev",{"VAR?":"rand"},10,"<","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.^.nevermind"},{"->":".^.^.^.17"},null]}],["ev",{"VAR?":"rand"},30,"<","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.^.requestMore"},{"->":".^.^.^.17"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.evaluate"},{"->":".^.^.^.17"},null]}],"nop","\n",{"#f":1}],"requestMore":[["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^On Second Thought, i'd like to add ",{"->":".^.^.23"},null],"s1":["pop","^Actually, i also more. I need an extra of ",{"->":".^.^.23"},null],"s2":["pop","^Wait, can you add ",{"->":".^.^.23"},null],"#f":5}],"^ ","<>","\n",{"->":".^.^.randomProducts"},{"#f":1}],"nevermind":[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^Actually, Nevermind, sorry. I forgot my wallet home ",{"->":".^.^.17"},null],"s1":["pop","^Wait, i need to go. Please cancel my orders",{"->":".^.^.17"},null],"#f":5}],"\n","ev",{"x()":"RejectSale"},"pop","/ev","\n","ev",{"x()":"ResetProductRequest"},"pop","/ev","\n","end",{"#f":1}],"evaluate":["ev",{"x()":"GetFulfillmentScore"},"/ev",{"temp=":"score"},"\n",["ev",{"VAR?":"score"},-1,"<","/ev",{"->":".^.b","c":true},{"b":["\n","^Are you sure this is all?","\n","ev","str","^No","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Yes","/str","/ev",{"*":".^.c-1","flg":4},{"->":".^.^.^.10"},{"c-0":["^ ",{"->":".^.^.^.^.^.repeat"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.veryAngry"},"\n",{"#f":5}]}]}],["ev",{"VAR?":"score"},-0.2,"<","/ev",{"->":".^.b","c":true},{"b":["\n","^Are you sure this is all?","\n","ev","str","^No","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Yes","/str","/ev",{"*":".^.c-1","flg":4},{"->":".^.^.^.10"},{"c-0":["^ ",{"->":".^.^.^.^.^.repeat"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.angry"},"\n",{"#f":5}]}]}],["ev",{"VAR?":"score"},0.2,"<",{"VAR?":"score"},-0.2,">","&&","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.^.finish"},{"->":".^.^.^.10"},null]}],["ev",{"VAR?":"score"},0.2,">","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.^.finish"},{"->":".^.^.^.10"},null]}],["ev",{"VAR?":"score"},1,">","/ev",{"->":".^.b","c":true},{"b":["\n","^Wow this is alot more than i thought. Are you sure?","\n","ev","str","^No","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Yes","/str","/ev",{"*":".^.c-1","flg":4},{"->":".^.^.^.10"},{"c-0":["^ ",{"->":".^.^.^.^.^.repeat"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.veryHappy"},"\n",{"#f":5}]}]}],"nop","\n",{"#f":1}],"repeat":["^Alright, just to be clear, i need ","ev",{"VAR?":"requestText"},"out","/ev","\n","end",{"#f":1}],"veryAngry":["^IM VERY ANGRYYYYY (placeholder text)","\n","ev",{"x()":"RejectSale"},"pop","/ev","\n","ev",{"x()":"ResetProductRequest"},"pop","/ev","\n","end",{"#f":1}],"angry":["^Im angry (placeholder text)","\n","ev",{"x()":"RejectSale"},"pop","/ev","\n","ev",{"x()":"ResetProductRequest"},"pop","/ev","\n","end",{"#f":1}],"veryHappy":["^Thanks for this! im very happy! (placeholder text)","\n",{"->":".^.^.finish"},{"#f":1}],"finish":["ev",{"x()":"ConsumeProducts"},"pop","/ev","\n","ev",{"x()":"GetPrice"},{"x()":"AddMoney","exArgs":1},"pop","/ev","\n","ev",{"x()":"ResetProductRequest"},"pop","/ev","\n","^Thank you for coming!","\n","end",{"#f":1}],"#f":1}],"GetFulfillmentScore":["ev",-100,100,"rnd",100.0,"/","/ev","~ret","\n",{"#f":1}],"GetProductAmount":[{"temp=":"index"},"ev",1,5,"rnd","/ev","~ret","\n",{"#f":1}],"GetProductName":[{"temp=":"index"},"ev","^products",{"VAR?":"index"},1,"+","listInt","/ev","~ret","\n",{"#f":1}],"GenerateProductRequest":[{"temp=":"count"},"#","^will generate ","ev",{"VAR?":"count"},"out","/ev","^ product","/#","ev","void","/ev","~ret",{"#f":1}],"ResetProductRequest":["#","^will reset request","/#","ev","void","/ev","~ret",{"#f":1}],"GetPrice":["#","^get price","/#","ev",0,"/ev","~ret",{"#f":1}],"StartSale":["#","^sale started","/#","ev","void","/ev","~ret",{"#f":1}],"AddMoney":[{"temp=":"amount"},"#","^added ","ev",{"VAR?":"amount"},"out","/ev","^ money","/#","ev","void","/ev","~ret",{"#f":1}],"RejectSale":["#","^sale rejected","/#","ev","void","/ev","~ret",{"#f":1}],"ConsumeProducts":["#","^products consumed","/#","ev","void","/ev","~ret",{"#f":1}],"formatProductAt":[{"temp=":"index"},"ev",{"VAR?":"index"},{"x()":"GetProductRequestName","exArgs":1},{"VAR?":"index"},{"x()":"GetProductRequestAmount","exArgs":1},{"f()":"formatProduct"},"/ev","~ret","\n",{"#f":1}],"getLabel":[{"temp=":"product"},["ev",{"VAR?":"product"},{"VAR?":"minyakGoreng"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^packs","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"product"},{"VAR?":"minyakTanah"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^liter","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"product"},{"VAR?":"tepung"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^kilogram","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"product"},{"VAR?":"telur"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^kilogram","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"product"},{"VAR?":"beras"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^kilogram","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"product"},{"VAR?":"gula"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^kilogram","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^errLabel","/str","/ev","~ret",{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":1}],"formatProduct":[{"temp=":"amount"},{"temp=":"product"},["ev",{"VAR?":"product"},{"VAR?":"minyakGoreng"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Frying Oil","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"product"},{"VAR?":"minyakTanah"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Kerosene","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"product"},{"VAR?":"tepung"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Flour","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"product"},{"VAR?":"telur"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Eggs","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"product"},{"VAR?":"beras"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Rice","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"product"},{"VAR?":"gula"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"amount"},"out","/ev","^ ","ev",{"VAR?":"product"},{"f()":"getLabel"},"out","/ev","^ of Sugar","/str","/ev","~ret","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^errFormat","/str","/ev","~ret",{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"global decl":["ev","str","^Jajang","/str",{"VAR=":"currentName"},{"list":{},"origins":["products"]},{"VAR=":"products"},"str","^","/str",{"VAR=":"requestText"},"/ev","end",null],"#f":1}],"listDefs":{"products":{"minyakGoreng":1,"minyakTanah":2,"tepung":3,"telur":4,"beras":5,"gula":6}}}